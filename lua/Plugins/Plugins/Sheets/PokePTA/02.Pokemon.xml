<?xml version="1.0" encoding="UTF-8"?>
<form name="frmPokemon1" align="client" theme="dark" margins="{top=1}">

			<layout left="000" top="000" height="650" width="1100">
				<image left="000" top="000" height="650" width="1100" src="/img/Pokeball.jpg" style="autoFIT" />
            </layout>
		
			<scrollBox align="client">
        <layout align="top" height="30" margins="{bottom=4}">
            <button text="Novo Pokémon" width="150" align="left">
                <event name="onClick">                       
                    self.rclListaDosItens:append();
                </event>
            </button>
            <button text="Organizar" width="150" align="left">
                <event name="onClick">
                    self.rclListaDosItens:sort();
                </event>
            </button>
        </layout>  
       
        <recordList name="rclListaDosItens" field="campoDosItens" templateForm="frmItemDaLista" align="client" selectable="true">
            <event name="onSelect">              
                local node = self.rclListaDosItens.selectedNode;
                self.boxDetalhesDoItem.node = node;                    
                self.boxDetalhesDoItem.visible = (node ~= nil);
            </event>
            <event name="onCompare">
		if (nodeA.active and not nodeB.active) then
			return -1;
		elseif (not nodeA.active and nodeB.active) then
			return 1;
		else
			return Utils.compareStringPtBr(nodeA.campoNome, nodeB.campoNome);
		end;
            </event>
        </recordList>      
 
        <dataScopeBox name="boxDetalhesDoItem" visible="false" align="right" width="900" margins="{left=4, right=8}">  
 
    <tabControl left="20" top="20" height="560" width="1000">
  <tab title="Geral">
 
		<rectangle align="top" color="black" xradius="10" yradius="10" height="880" padding="{top=3, left=3, right=3, bottom=3}">

            <layout left="005" top="10" width="800" height="560">
				<rectangle left="00" top="00" width="30" height="30" color="gray"/>
				<image left="00" top="00" width="30" height="30" editable="true" field="campoPokebola"/>   
				<dataLink field="campoPokebola" defaultValue="https://cdn.bulbagarden.net/upload/9/93/Bag_Pok%C3%A9_Ball_Sprite.png" />
                <rectangle left="35" top="00" width="160" height="160" color="gray" />
                <image left="35" top="00" width="160" height="160" editable="true" field="campoPokemon" animate = "true"/>
				<image left="000" top="45" width="30" height="30" field="basSEX" style="proportional" editable="false"/>	

		<button left="0" top="135" width="15" height="20" text="E" hint = "Exportar uma ficha">
			<event name="onClick">
				local xml = NDB.exportXML(self.boxDetalhesDoItem.node);

				local export = {};
				local bytes = Utils.binaryEncode(export, "utf8", xml);

				local stream = Utils.newMemoryStream();
				local bytes = stream:write(export);

				Dialogs.saveFile("Salvar Ficha como XML", stream, "ficha.xml", "application/xml",
					function()
						stream:close();
						showMessage("Ficha Exportada.");
					end);
			</event>
		</button>
		<!-- Combobox de importar ficha -->
		<button left="17" top="135" width="15" height="20" text="I" hint = "Importar uma ficha">
			<event name="onClick">
				Dialogs.openFile("Importar Ficha", "application/xml", false, 
					function(arquivos)
						local arq = arquivos[1];

						local import = {};
						local bytes = arq.stream:read(import, arq.stream.size);

						local xml = Utils.binaryDecode(import, "utf8");

						NDB.importXML(self.boxDetalhesDoItem.node, xml);
					end);
			</event>
		</button>

					
                <dataLink field="active" defaultValue="true" />										
					<imageCheckBox left="00" top="90" height="30" width="30" field="PokShiny" hint="Padrão ou Shiny"
					checkedImage="/img/Shiny_ON.png"
					uncheckedImage="/img/Shiny_OFF.png"/>
                <dataLink field="PokShiny" defaultValue="false" />	

            </layout>    

			<layout left="210" top="10" width="800" height="800">
                                        <label left="0" top="00" width="80" height="20" text="Número:" autoSize="true" fontStyle="bold"/>
                                        <edit left="75" top="00" width="60" height="20" field="campoNumero" horzTextAlign="center"/>
                                        <comboBox left="140" top="00" width="110" height="20" field="campoGenero" horzTextAlign="center" items="{'Masculino', 'Feminino', 'Agênero'}" values="{'1', '2', '3'}" >
                                        	<event name="onChange">	
												if self.boxDetalhesDoItem.node==nil 					then    return end
												if self.boxDetalhesDoItem.node.campoGenero == "1" 		then	self.boxDetalhesDoItem.node.basSEX = "/img/Gender_Male.png"	end
												if self.boxDetalhesDoItem.node.campoGenero == "2" 		then	self.boxDetalhesDoItem.node.basSEX = "/img/Gender_Female.png"	end
												if self.boxDetalhesDoItem.node.campoGenero == "3" 		then	self.boxDetalhesDoItem.node.basSEX = "/img/Gender_Less.png"	end
	                                        </event>
										</comboBox>
										<label left="0" top="25" width="80" height="20" text="Espécie:" autoSize="true" fontStyle="bold"/>
                                        <edit left="75" top="25" width="175" height="20" field="campoNome" />
                                        <label left="0" top="50" width="80" height="20" text="Apelido:" autoSize="true" fontStyle="bold"/>
                                        <edit left="75" top="50" width="175" height="20" field="campoApelido" />
                                        <label left="0" top="75" width="80" height="20" text="Tipo(s):" autoSize="true" fontStyle="bold"/>
                                        <comboBox left="75" top="75" width="85" height="20" field="campoElem1" horzTextAlign="leading" items="{'Normal', 'Fogo', 'Água', 'Elétrico', 'Grama', 'Gelo', 'Lutador', 'Venenoso', 'Terra', 'Voador', 'Psíquico', 'Inseto', 'Rocha', 'Fantasma', 'Dragão', 'Noturno', 'Metálico', 'Fada', ''}" values="{'1', '2', '3', '4','5','6', '7','8','9','10','11','12','13','14','15','16','17','18','19'}"/>
                                        <comboBox left="165" top="75" width="85" height="20" field="campoElem2" horzTextAlign="leading" items="{'Normal', 'Fogo', 'Água', 'Elétrico', 'Grama', 'Gelo', 'Lutador', 'Venenoso', 'Terra', 'Voador', 'Psíquico', 'Inseto', 'Rocha', 'Fantasma', 'Dragão', 'Noturno', 'Metálico', 'Fada', ''}" values="{'1', '2', '3', '4','5','6', '7','8','9','10','11','12','13','14','15','16','17','18','19'}"/>
                                        <dataLink field="campoElem1" defaultValue="19" />	
                                        <dataLink field="campoElem1" defaultValue="19" />	
    <dataLink fields="{'campoElem1', 'campoElem2'}">
        <event name="onChange">
			local PweakTot = {"1x","1x","1x","1x","1x","1x","1x","1x","1x","1x","1x","1x","1x","1x","1x","1x","1x","1x"};
			local weakElem1 = {"Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm"}
			local CampoElem1Aux = self.boxDetalhesDoItem.node.campoElem1 or 0;
			if CampoElem1Aux == "1" 		then	weakElem1 = {"Norm","Norm","Norm","Norm","Norm","Norm","Weak","Norm","Norm","Norm","Norm","Norm","Norm","Immu","Norm","Norm","Norm","Norm"}	end
			if CampoElem1Aux == "2" 		then	weakElem1 = {"Norm","Resi","Weak","Norm","Resi","Resi","Norm","Norm","Weak","Norm","Norm","Resi","Weak","Norm","Norm","Norm","Resi","Resi"}	end
			if CampoElem1Aux == "3" 		then	weakElem1 = {"Norm","Resi","Resi","Weak","Weak","Resi","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Resi","Norm"}	end
			if CampoElem1Aux == "4" 		then	weakElem1 = {"Norm","Norm","Norm","Resi","Norm","Norm","Norm","Norm","Weak","Resi","Norm","Norm","Norm","Norm","Norm","Norm","Resi","Norm"}	end
			if CampoElem1Aux == "5" 		then	weakElem1 = {"Norm","Weak","Resi","Resi","Resi","Weak","Norm","Weak","Resi","Weak","Norm","Weak","Norm","Norm","Norm","Norm","Norm","Norm"}	end
			if CampoElem1Aux == "6" 		then	weakElem1 = {"Norm","Weak","Norm","Norm","Norm","Resi","Weak","Norm","Norm","Norm","Norm","Norm","Weak","Norm","Norm","Norm","Weak","Norm"}	end
			if CampoElem1Aux == "7" 		then	weakElem1 = {"Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Weak","Weak","Resi","Resi","Norm","Norm","Resi","Norm","Weak"}	end
			if CampoElem1Aux == "8" 		then	weakElem1 = {"Norm","Norm","Norm","Norm","Resi","Norm","Resi","Resi","Weak","Norm","Weak","Resi","Norm","Norm","Norm","Norm","Norm","Resi"}	end
			if CampoElem1Aux == "9" 		then	weakElem1 = {"Norm","Norm","Weak","Immu","Weak","Weak","Norm","Resi","Norm","Norm","Norm","Norm","Resi","Norm","Norm","Norm","Norm","Norm"}	end
			if CampoElem1Aux == "10" 		then	weakElem1 = {"Norm","Norm","Norm","Weak","Resi","Weak","Resi","Norm","Immu","Norm","Norm","Resi","Weak","Norm","Norm","Norm","Norm","Norm"}	end
			if CampoElem1Aux == "11" 		then	weakElem1 = {"Norm","Norm","Norm","Norm","Norm","Norm","Resi","Norm","Norm","Norm","Resi","Weak","Norm","Weak","Norm","Weak","Norm","Norm"}	end
			if CampoElem1Aux == "12" 		then	weakElem1 = {"Norm","Weak","Norm","Norm","Resi","Norm","Resi","Norm","Resi","Weak","Norm","Norm","Weak","Norm","Norm","Norm","Norm","Norm"}	end
			if CampoElem1Aux == "13" 		then	weakElem1 = {"Resi","Resi","Weak","Norm","Weak","Norm","Weak","Resi","Weak","Resi","Norm","Norm","Norm","Norm","Norm","Norm","Weak","Norm"}	end
			if CampoElem1Aux == "14" 		then	weakElem1 = {"Immu","Norm","Norm","Norm","Norm","Norm","Immu","Resi","Norm","Norm","Norm","Resi","Norm","Weak","Norm","Weak","Norm","Norm"}	end
			if CampoElem1Aux == "15" 		then	weakElem1 = {"Norm","Resi","Resi","Resi","Resi","Weak","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Weak","Norm","Norm","Weak"}	end
			if CampoElem1Aux == "16" 		then	weakElem1 = {"Norm","Norm","Norm","Norm","Norm","Norm","Weak","Norm","Norm","Norm","Immu","Weak","Norm","Resi","Norm","Resi","Norm","Weak"}	end
			if CampoElem1Aux == "17" 		then	weakElem1 = {"Resi","Weak","Norm","Norm","Resi","Resi","Weak","Immu","Weak","Resi","Resi","Resi","Resi","Norm","Resi","Norm","Resi","Resi"}	end
			if CampoElem1Aux == "18" 		then	weakElem1 = {"Norm","Norm","Norm","Norm","Norm","Norm","Resi","Weak","Norm","Norm","Norm","Resi","Norm","Norm","Immu","Resi","Weak","Norm"}	end			
			if CampoElem1Aux == "19" 		then	weakElem1 = {"Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm"}	end
			local weakElem2 = {"Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm"}
			local CampoElem2Aux = self.boxDetalhesDoItem.node.campoElem2 or 0;
			if CampoElem2Aux == "1" 		then	weakElem2 = {"Norm","Norm","Norm","Norm","Norm","Norm","Weak","Norm","Norm","Norm","Norm","Norm","Norm","Immu","Norm","Norm","Norm","Norm"}	end
			if CampoElem2Aux == "2" 		then	weakElem2 = {"Norm","Resi","Weak","Norm","Resi","Resi","Norm","Norm","Weak","Norm","Norm","Resi","Weak","Norm","Norm","Norm","Resi","Resi"}	end
			if CampoElem2Aux == "3" 		then	weakElem2 = {"Norm","Resi","Resi","Weak","Weak","Resi","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Resi","Norm"}	end
			if CampoElem2Aux == "4" 		then	weakElem2 = {"Norm","Norm","Norm","Resi","Norm","Norm","Norm","Norm","Weak","Resi","Norm","Norm","Norm","Norm","Norm","Norm","Resi","Norm"}	end
			if CampoElem2Aux == "5" 		then	weakElem2 = {"Norm","Weak","Resi","Resi","Resi","Weak","Norm","Weak","Resi","Weak","Norm","Weak","Norm","Norm","Norm","Norm","Norm","Norm"}	end
			if CampoElem2Aux == "6" 		then	weakElem2 = {"Norm","Weak","Norm","Norm","Norm","Resi","Weak","Norm","Norm","Norm","Norm","Norm","Weak","Norm","Norm","Norm","Weak","Norm"}	end
			if CampoElem2Aux == "7" 		then	weakElem2 = {"Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Weak","Weak","Resi","Resi","Norm","Norm","Resi","Norm","Weak"}	end
			if CampoElem2Aux == "8" 		then	weakElem2 = {"Norm","Norm","Norm","Norm","Resi","Norm","Resi","Resi","Weak","Norm","Weak","Resi","Norm","Norm","Norm","Norm","Norm","Resi"}	end
			if CampoElem2Aux == "9" 		then	weakElem2 = {"Norm","Norm","Weak","Immu","Weak","Weak","Norm","Resi","Norm","Norm","Norm","Norm","Resi","Norm","Norm","Norm","Norm","Norm"}	end
			if CampoElem2Aux == "10" 		then	weakElem2 = {"Norm","Norm","Norm","Weak","Resi","Weak","Resi","Norm","Immu","Norm","Norm","Resi","Weak","Norm","Norm","Norm","Norm","Norm"}	end
			if CampoElem2Aux == "11" 		then	weakElem2 = {"Norm","Norm","Norm","Norm","Norm","Norm","Resi","Norm","Norm","Norm","Resi","Weak","Norm","Weak","Norm","Weak","Norm","Norm"}	end
			if CampoElem2Aux == "12" 		then	weakElem2 = {"Norm","Weak","Norm","Norm","Resi","Norm","Resi","Norm","Resi","Weak","Norm","Norm","Weak","Norm","Norm","Norm","Norm","Norm"}	end
			if CampoElem2Aux == "13" 		then	weakElem2 = {"Resi","Resi","Weak","Norm","Weak","Norm","Weak","Resi","Weak","Resi","Norm","Norm","Norm","Norm","Norm","Norm","Weak","Norm"}	end
			if CampoElem2Aux == "14"		then	weakElem2 = {"Immu","Norm","Norm","Norm","Norm","Norm","Immu","Resi","Norm","Norm","Norm","Resi","Norm","Weak","Norm","Weak","Norm","Norm"}	end
			if CampoElem2Aux == "15"		then	weakElem2 = {"Norm","Resi","Resi","Resi","Resi","Weak","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Weak","Norm","Norm","Weak"}	end
			if CampoElem2Aux == "16" 		then	weakElem2 = {"Norm","Norm","Norm","Norm","Norm","Norm","Weak","Norm","Norm","Norm","Immu","Weak","Norm","Resi","Norm","Resi","Norm","Weak"}	end
			if CampoElem2Aux == "17" 		then	weakElem2 = {"Resi","Weak","Norm","Norm","Resi","Resi","Weak","Immu","Weak","Resi","Resi","Resi","Resi","Norm","Resi","Norm","Resi","Resi"}	end
			if CampoElem2Aux == "18" 		then	weakElem2 = {"Norm","Norm","Norm","Norm","Norm","Norm","Resi","Weak","Norm","Norm","Norm","Resi","Norm","Norm","Immu","Resi","Weak","Norm"}	end
			if CampoElem2Aux == "19" 		then	weakElem2 = {"Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm","Norm"}	end
			for i=1, 18, 1 do
				if (weakElem1[i] == "Norm" and weakElem2[i] == "Norm") then PweakTot[i] = "x1"		end
				if (weakElem1[i] == "Resi" and weakElem2[i] == "Resi") then PweakTot[i] = "x0.25"	end
				if (weakElem1[i] == "Immu" and weakElem2[i] == "Immu") then PweakTot[i] = "x0"		end
				if (weakElem1[i] == "Weak" and weakElem2[i] == "Weak") then PweakTot[i] = "x4"		end	  
				if (weakElem1[i] == "Resi" and weakElem2[i] == "Norm") then PweakTot[i] = "x0.5"	end
				if (weakElem1[i] == "Norm" and weakElem2[i] == "Resi") then PweakTot[i] = "x0.5"	end
				if (weakElem1[i] == "Weak" and weakElem2[i] == "Norm") then PweakTot[i] = "x2"		end
				if (weakElem1[i] == "Norm" and weakElem2[i] == "Weak") then PweakTot[i] = "x2"		end
				if (weakElem1[i] == "Immu" and weakElem2[i] == "Norm") then PweakTot[i] = "x0"		end
				if (weakElem1[i] == "Norm" and weakElem2[i] == "Immu") then PweakTot[i] = "x0"		end
				if (weakElem1[i] == "Resi" and weakElem2[i] == "Weak") then PweakTot[i] = "x1"		end
				if (weakElem1[i] == "Weak" and weakElem2[i] == "Resi") then PweakTot[i] = "x1"		end
				if (weakElem1[i] == "Resi" and weakElem2[i] == "Immu") then PweakTot[i] = "x0"		end
				if (weakElem1[i] == "Immu" and weakElem2[i] == "Resi") then PweakTot[i] = "x0"		end
				if (weakElem1[i] == "Immu" and weakElem2[i] == "Weak") then PweakTot[i] = "x0"		end
				if (weakElem1[i] == "Weak" and weakElem2[i] == "Immu") then PweakTot[i] = "x0"		end
			end
			self.boxDetalhesDoItem.node.weakTot1 = PweakTot[1] or "x1"
			self.boxDetalhesDoItem.node.weakTot2 = PweakTot[2] or "x1"
			self.boxDetalhesDoItem.node.weakTot3 = PweakTot[3] or "x1"
			self.boxDetalhesDoItem.node.weakTot4 = PweakTot[4] or "x1"
			self.boxDetalhesDoItem.node.weakTot5 = PweakTot[5] or "x1"
			self.boxDetalhesDoItem.node.weakTot6 = PweakTot[6] or "x1"
			self.boxDetalhesDoItem.node.weakTot7 = PweakTot[7] or "x1"
			self.boxDetalhesDoItem.node.weakTot8 = PweakTot[8] or "x1"
			self.boxDetalhesDoItem.node.weakTot9 = PweakTot[9] or "x1"
			self.boxDetalhesDoItem.node.weakTot10 = PweakTot[10] or "x1"
			self.boxDetalhesDoItem.node.weakTot11 = PweakTot[11] or "x1"
			self.boxDetalhesDoItem.node.weakTot12 = PweakTot[12] or "x1"
			self.boxDetalhesDoItem.node.weakTot13 = PweakTot[13] or "x1"
			self.boxDetalhesDoItem.node.weakTot14 = PweakTot[14] or "x1"
			self.boxDetalhesDoItem.node.weakTot15 = PweakTot[15] or "x1"
			self.boxDetalhesDoItem.node.weakTot16 = PweakTot[16] or "x1"
			self.boxDetalhesDoItem.node.weakTot17 = PweakTot[17] or "x1"
			self.boxDetalhesDoItem.node.weakTot18 = PweakTot[18] or "x1"
			</event>
        </dataLink>
                                        <label left="0" top="100" width="80" height="20" text="Natureza:" autoSize="true" fontStyle="bold"/>
                                        <edit left="75" top="100" width="175" height="20" field="campoNatureza" />
                                        <label left="95" top="125" width="68" height="20" text="Aumenta" autoSize="true" fontStyle="bold" horzTextAlign="center"/>
                                        <label left="168" top="125" width="68" height="20" text="Diminui" autoSize="true" fontStyle="bold" horzTextAlign="center"/>
                                        <comboBox left="95" top="145" width="68" height="20" field="campoNatPlus" horzTextAlign="leading" items="{'HP', 'ATK', 'DEF', 'AES', 'DES', 'VEL'}" values="{'1', '2', '3', '4','5','6'}"/>
                                        <comboBox left="168" top="145" width="68" height="20" field="campoNatMinus" horzTextAlign="leading" items="{'HP', 'ATK', 'DEF', 'AES', 'DES', 'VEL'}" values="{'1', '2', '3', '4','5','6'}" />

    <dataLink fields="{'campoNatPlus', 'campoNatMinus'}">
        <event name="onChange">
			local BonNat = self.boxDetalhesDoItem.node.campoNatPlus or "";
			local PenNat = self.boxDetalhesDoItem.node.campoNatMinus or "";
			if BonNat == "1" 		then	self.boxDetalhesDoItem.node.Sabor_Fav = "Comida Salgada"	end
			if BonNat == "2" 		then	self.boxDetalhesDoItem.node.Sabor_Fav = "Comida Apimentada" end
			if BonNat == "3" 		then	self.boxDetalhesDoItem.node.Sabor_Fav = "Comida Azeda"		end
			if BonNat == "4" 		then	self.boxDetalhesDoItem.node.Sabor_Fav = "Comida Seca"		end
			if BonNat == "5" 		then	self.boxDetalhesDoItem.node.Sabor_Fav = "Comida Amarga"		end
			if BonNat == "6" 		then	self.boxDetalhesDoItem.node.Sabor_Fav = "Comida Doce"		end
			if PenNat == "1" 		then	self.boxDetalhesDoItem.node.Sabor_Desg = "Comida Salgada"	end
			if PenNat == "2" 		then	self.boxDetalhesDoItem.node.Sabor_Desg = "Comida Apimentada" end
			if PenNat == "3" 		then	self.boxDetalhesDoItem.node.Sabor_Desg = "Comida Azeda"		end
			if PenNat == "4" 		then	self.boxDetalhesDoItem.node.Sabor_Desg = "Comida Seca"		end
			if PenNat == "5" 		then	self.boxDetalhesDoItem.node.Sabor_Desg = "Comida Amarga"	end
			if PenNat == "6" 		then	self.boxDetalhesDoItem.node.Sabor_Desg = "Comida Doce"		end
			if (BonNat == PenNat) then 	self.boxDetalhesDoItem.node.Sabor_Fav = "Sem Preferência"
										self.boxDetalhesDoItem.node.Sabor_Desg = "Sem Preferência"
				end
		</event>
	</dataLink>
            </layout> 					
			

            <layout left="500" top="20" width="800" height="800">
                <label left="0" top="00" width="100" height="20" text="Terrestre:" autoSize="true" fontStyle="bold"/>
                <edit left="105" top="00" width="60" height="20" field="campoTerrestre" horzTextAlign="center"/>
                <label left="0" top="25" width="100" height="20" text="Natação:" autoSize="true" fontStyle="bold"/>
                <edit left="105" top="25" width="60" height="20" field="campoNatacao" horzTextAlign="center"/>
                <label left="0" top="50" width="100" height="20" text="Subaquático:" autoSize="true" fontStyle="bold"/>
                <edit left="105" top="50" width="60" height="20" field="campoSubaquatico" horzTextAlign="center"/>
                <label left="0" top="75" width="100" height="20" text="Escavação:" autoSize="true" fontStyle="bold"/>
                <edit left="105" top="75" width="60" height="20" field="campoEscavacao" horzTextAlign="center"/>
                <label left="0" top="100" width="100" height="20" text="Voo:" autoSize="true" fontStyle="bold"/>
                <edit left="105" top="100" width="60" height="20" field="campoVoo" horzTextAlign="center"/>
				<label left="190" top="00" width="100" height="20" text="Força:" autoSize="true" fontStyle="bold"/>
                <edit left="270" top="00" width="95" height="20" field="campoForca" horzTextAlign="center"/>
                <label left="190" top="25" width="100" height="20" text="Inteligência:" autoSize="true" fontStyle="bold"/>
                <edit left="270" top="25" width="95" height="20" field="campoInteligencia" horzTextAlign="center"/>
                <label left="190" top="50" width="100" height="20" text="Salto:" autoSize="true" fontStyle="bold"/>
                <edit left="270" top="50" width="95" height="20" field="campoSalto" horzTextAlign="center"/>
	            <label left="190" top="75" width="100" height="20" text="Altura:" autoSize="true" fontStyle="bold"/>
                <edit left="270" top="75" width="95" height="20" field="campoAltura" horzTextAlign="center"/>
                <label left="190" top="100" width="100" height="20" text="Categoria:" autoSize="true" fontStyle="bold"/>
                <comboBox left="270" top="100" width="95" height="20" field="catAltura" horzTextAlign="center" items="{'Pequeno', 'Médio', 'Grande', 'Enorme', 'Gigante'}" values="{'Pequeno', 'Médio', 'Grande', 'Enorme', 'Gigante'}" />
                <label left="190" top="125" width="100" height="20" text="Peso:" autoSize="true" fontStyle="bold"/>
                <edit left="270" top="125" width="95" height="20" field="campoPeso" horzTextAlign="center"/>
                <label left="190" top="150" width="100" height="20" text="Categoria:" autoSize="true" fontStyle="bold"/>
                <comboBox left="270" top="150" width="95" height="20" field="catPeso" horzTextAlign="center" items="{'Muito Leve', 'Leve', 'Médio', 'Pesado', 'Muito Pesado', 'Ext. Pesado'}" values="{'1', '2', '3', '4', '5', '6'}" />

            </layout>

		<popup name="popExemplo" width="300" height="200" backOpacity="0.4" autoScopeNode="false">
			<label left="0" top="5" width="60" height="20" text="Efeito:" horzTextAlign="center"/>
			<textEditor left="005" top="30" height="165" width="290" field="Descricao1"/>
		</popup>			

    <layout left="50" top="200" height="500" width="300">
		<label left="000" top="00" height="20" width="100" text="Item" autoSize="true" fontStyle="bold" />
		<edit vertTextAlign="center" left="105" top="00" width="130" height="20" field="nomeItem1"/>
		<button left="240" top="00" width="23" height="20" text="i" name="BotaoItemA">
			<event name="onClick"><![CDATA[
	    		local pop = self:findControlByName("popExemplo");
				
			if pop ~= nil then
				pop:setNodeObject(self.boxDetalhesDoItem.node);
				pop:showPopupEx("right", self.BotaoItemA);
			else
				showMessage("Ops, erro");
			end;
				]]>
			</event>
		</button>  

		<label left="0" top="25" width="100" height="20" text="Dieta:" autoSize="true" fontStyle="bold"/>
		<edit left="105" top="25" width="130" height="20" field="campoDieta" />
		<label left="000" top="50" height="20" width="100" text="Gosta de:" autoSize="true" fontStyle="bold"/>
		<edit left="105" top="50" height="20" width="130" field="Sabor_Fav" horzTextAlign="leading" enabled="false"/>
		<label left="000" top="75" height="20" width="100" text="Não gosta de:" autoSize="true" fontStyle="bold"/>
		<edit left="105" top="75" height="20" width="130" field="Sabor_Desg" horzTextAlign="leading" enabled="false"/>
		
	</layout>
			
                                    <layout left="360" top="195" width="900" height="800">
                                        <label left="0" top="00" width="100" height="20" text="Nível:" autoSize="true" fontStyle="bold"/>
                                        <edit left="100" top="0" width="45" height="20" field="pokeLevel" type="number" horzTextAlign="center">
                                            <event name="onChange">
											if self.boxDetalhesDoItem.node == nil then return end;
		
											local level = tonumber(self.boxDetalhesDoItem.node.pokeLevel) or 1
											if 	1 &gt; level or level &gt; 100 then return end;
							
											local xpTable = {25,50,100,150,200,400,600,800,1000,1500,2000,3000,4000,5000,6000,7000,8000,9000,10000,11500,13000,14500,16000,17500,19000,20500,22000,23500,25000,27500,30000,32500,35000,37500,4000,42500,45000,47500,50000, 
															55000,60000,65000,70000,75000,80000,85000,90000,95000,10000,110000,120000,130000,140000,150000,160000,170000,180000,190000,200000,210000,220000,230000,240000,250000,260000,270000,280000,290000,300000,310000,320000,
															330000,340000,350000,360000,370000,380000,390000,400000,410000,420000,430000,440000,450000,460000,470000,480000,490000,500000,510000,520000,530000,540000,550000,560000,570000,580000,590000,600000};
											self.boxDetalhesDoItem.node.nextLVEXP = xpTable [level];
											</event>
                                        </edit>

                                        <label left="0" top="25" width="100" height="20" text="Experiência:" autoSize="true" fontStyle="bold"/>
										<edit left="100" top="25" width="45" height="20" field="campoExpAt" horzTextAlign="center"/>
										<label left="147" top="25" height="20" width="8" text="/" autoSize="true" />									
										<edit left="155" top="25" height="20" width="45" field="nextLVEXP" horzTextAlign="center" enabled="false"/>

                                        <label left="0" top="50" width="100" height="20" text="Lealdade:" autoSize="true" fontStyle="bold"/>
                                        <edit left="100" top="50" width="45" height="20" field="campoLealdade" horzTextAlign="center"/>
										
										<label left="0" top="75" width="100" height="20"  text="Vida" autoSize="true" fontStyle="bold"/>
										<edit left="100" top="75" height="20" width="45" field="baseHPAtual" horzTextAlign="center" type="number"/>
										<label left="147" top="75" height="20" width="8" text="/" autoSize="true" />
										<edit left="155" top="75" height="20" width="45" field="baseHPMAX" horzTextAlign="center" enabled="false"/>
 
                                        <label left="0" top="100" width="100" height="20" text="Amizade:" autoSize="true" fontStyle="bold"/>
										<edit left="100" top="100" height="20" width="45" field="campoAmizade1" horzTextAlign="center" />
										<edit left="155" top="100" height="20" width="90" field="campoAmizade2" horzTextAlign="center" />
	
									</layout>

 
									
									<layout left="640" top="220" height="320" width="420">
										<label left="00" top="000" height="20" width="80" text="Evasão" autoSize="true" fontStyle="bold"/>
										<label left="75" top="000" height="20" width="30" text="Tot." autoSize="true" />
                    					<label left="110" top="000" height="20" width="30" text="Bôn." autoSize="true" />
                    					<label left="000" top="025" height="20" width="80" text="Física" autoSize="true" fontStyle="bold"/>
                    					<edit left="75" top="025" height="20" width="30" field="campoEFIS" horzTextAlign="center" type="number"  enabled="false"/>
										<edit left="110" top="025" height="20" width="30" field="pok_bonEVAF" horzTextAlign="center" type="number" />
                    					<label left="000" top="050" height="20" width="80" text="Especial" autoSize="true" fontStyle="bold"/>
                    					<edit left="75" top="050" height="20" width="30" field="campoEESP" horzTextAlign="center" type="number"  enabled="false"/>
                    					<edit left="110" top="050" height="20" width="30" field="pok_bonEVAE" horzTextAlign="center" type="number" />
                    					<label left="000" top="075" height="20" width="80" text="Veloz" autoSize="true" fontStyle="bold"/>
                    					<edit left="75" top="075" height="20" width="30" field="campoEVEL" horzTextAlign="center" type="number"  enabled="false"/>
                    					<edit left="110" top="075" height="20" width="30" field="Pok_bonEVAV" horzTextAlign="center" type="number" />
									</layout>
 
 <template name="PokeSlotPok">	
	<imageCheckBox left="$(Left)" top="$(Top)" height="30" width="30" field="SlotActive$(num)" hint="$(Hint)"
		checkedImage="$(checked)"
		uncheckedImage="$(unchecked)"/>
	<dataLink field="SlotActive1" defaultValue="false"/>		
	<dataLink field="SlotActive2" defaultValue="false"/>	
	<dataLink field="SlotActive3" defaultValue="false"/>	
	<dataLink field="SlotActive4" defaultValue="false"/>	
	<dataLink field="SlotActive5" defaultValue="false"/>
	<dataLink field="SlotActive6" defaultValue="false"/>
	<dataLink field="SlotActive7" defaultValue="true"/>	
</template>	
 
									<layout left="800" top="210" height="320" width="420">							
										<PokeSlotPok Left = "00" Top = "0" checked = "/img/Poke1T.png" unchecked = "/img/Poke1F.png" num = "1" Hint = "Aba 1, Slot 1"/>
										<PokeSlotPok Left = "00" Top = "35" checked = "/img/Poke2T.png" unchecked = "/img/Poke2F.png" num = "2" Hint = "Aba 1, Slot 2"/>
										<PokeSlotPok Left = "00" Top = "70" checked = "/img/Poke3T.png" unchecked = "/img/Poke3F.png" num = "3" Hint = "Aba 1, Slot 3"/>
										<PokeSlotPok Left = "40" Top = "0" checked = "/img/Poke4T.png" unchecked = "/img/Poke4F.png" num = "4" Hint = "Aba 1, Slot 4"/>
										<PokeSlotPok Left = "40" Top = "35" checked = "/img/Poke5T.png" unchecked = "/img/Poke5F.png" num = "5" Hint = "Aba 1, Slot 5"/>
										<PokeSlotPok Left = "40" Top = "70" checked = "/img/Poke6T.png" unchecked = "/img/Poke6F.png" num = "6" Hint = "Aba 1, Slot 6"/>
										<PokeSlotPok Left = "20" Top = "105" checked = "/img/Computer_ON.png" unchecked = "/img/Computer_OFF.png" num = "7" Hint = "Na Reserva"/>
									</layout>
									
                                    <layout left="10" top="340" height="600" width="800">
                                       <label left="000" top="000" height="20" width="30" text="R.B." autoSize="true" />
                                        <label left="035" top="000" height="20" width="100" text="Atributo" autoSize="true" horzTextAlign="center" fontStyle="bold" />
                                        <label left="140" top="000" height="20" width="50" text="Total" autoSize="true" />
                                        <label left="185" top="000" height="20" width="50" text="Base" autoSize="true" />
                                        <label left="230" top="000" height="20" width="50" text="Nível" autoSize="true" />
                                        <label left="275" top="000" height="20" width="50" text="Bôn" autoSize="true" />
                                        <label left="320" top="000" height="20" width="50" text="Vit." autoSize="true" />
										
										<imageCheckBox left="370" top="000" height="40" width="20" field="MegaEvo" hint="Normal ou Mega"
											checkedImage="/img/Mega_ON.png"
											uncheckedImage="/img/Mega_OFF.png"/>
										
										
                                        <edit left="000" top="025" height="20" width="30" field="Vida_Pri" horzTextAlign="center" type="number" />
                                        <label left="035" top="025" height="20" width="100" text="HP" autoSize="true" fontStyle="bold"/>
                                        <edit left="140" top="025" height="20" width="30" field="Vida_Form1" horzTextAlign="center" type="number" enabled="false" />
                                        <edit left="185" top="025" height="20" width="30" field="Vida_Base1" horzTextAlign="center" type="number" />
                                        <edit left="230" top="025" height="20" width="30" field="Vida_Nivel" horzTextAlign="center" type="number" />
                                        <edit left="275" top="025" height="20" width="30" field="Vida_Bon1" horzTextAlign="center" type="number" />
                                        <edit left="320" top="025" height="20" width="30" field="Vida_Vit" horzTextAlign="center" type="number" />
                                        <edit left="000" top="050" height="20" width="30" field="Ataque_Pri" horzTextAlign="center" type="number" />
                                        <label left="035" top="050" height="20" width="100" text="Ataque" autoSize="true" fontStyle="bold" />
                                        <edit left="140" top="050" height="20" width="30" field="Ataque_Form1" horzTextAlign="center" type="number" enabled="false" />
                                        <edit left="185" top="050" height="20" width="30" field="Ataque_Base1" horzTextAlign="center" type="number" />
                                        <edit left="230" top="050" height="20" width="30" field="Ataque_Nivel" horzTextAlign="center" type="number" />
                                        <edit left="275" top="050" height="20" width="30" field="Ataque_Bon1" horzTextAlign="center" type="number" />
                                        <edit left="320" top="050" height="20" width="30" field="Ataque_Vit" horzTextAlign="center" type="number" />
                                        <edit left="365" top="050" height="20" width="30" field="Ataque_Bon2" horzTextAlign="center" type="number" />
                                        <comboBox left="400" top="050" height="20" width="45" field="Ataque_edc" horzTextAlign="center" items="{'-6', '-5', '-4', '-3', '-2', '-1', '0', '1', '2', '3', '4', '5', '6'}" values="{'1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13'}" />
                                        <dataLink field="Ataque_edc" defaultValue="7" />
                                        <edit left="000" top="075" height="20" width="30" field="Defesa_Pri" horzTextAlign="center" type="number" />
                                        <label left="035" top="075" height="20" width="100" text="Defesa" autoSize="true" fontStyle="bold" />
                                        <edit left="140" top="075" height="20" width="30" field="Defesa_Form1" horzTextAlign="center" type="number" enabled="false" />
                                        <edit left="185" top="075" height="20" width="30" field="Defesa_Base1" horzTextAlign="center" type="number" />
                                        <edit left="230" top="075" height="20" width="30" field="Defesa_Nivel" horzTextAlign="center" type="number" />
                                        <edit left="275" top="075" height="20" width="30" field="Defesa_Bon1" horzTextAlign="center" type="number" />
                                        <edit left="320" top="075" height="20" width="30" field="Defesa_Vit" horzTextAlign="center" type="number" />
                                        <edit left="365" top="075" height="20" width="30" field="Defesa_Bon2" horzTextAlign="center" type="number" />
                                        <comboBox left="400" top="075" height="20" width="45" field="Defesa_edc" horzTextAlign="center" items="{'-6', '-5', '-4', '-3', '-2', '-1', '0', '1', '2', '3', '4', '5', '6'}" values="{'1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13'}" />
                                        <dataLink field="Defesa_edc" defaultValue="7" />
                                        <edit left="000" top="100" height="20" width="30" field="AtaqueEsp_Pri" horzTextAlign="center" type="number" />
                                        <label left="035" top="100" height="20" width="100" text="Ataque Especial" autoSize="true" fontStyle="bold" />
                                        <edit left="140" top="100" height="20" width="30" field="AtaqueEsp_Form1" horzTextAlign="center" type="number" enabled="false" />
                                        <edit left="185" top="100" height="20" width="30" field="AtaqueEsp_Base1" horzTextAlign="center" type="number" />
                                        <edit left="230" top="100" height="20" width="30" field="AtaqueEsp_Nivel" horzTextAlign="center" type="number" />
                                        <edit left="275" top="100" height="20" width="30" field="AtaqueEsp_Bon1" horzTextAlign="center" type="number" />
                                        <edit left="320" top="100" height="20" width="30" field="AtaqueEsp_Vit" horzTextAlign="center" type="number" />
                                        <edit left="365" top="100" height="20" width="30" field="AtaqueEsp_Bon2" horzTextAlign="center" type="number" />
                                        <comboBox left="400" top="100" height="20" width="45" field="AtaqueEsp_edc" horzTextAlign="center" items="{'-6', '-5', '-4', '-3', '-2', '-1', '0', '1', '2', '3', '4', '5', '6'}" values="{'1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13'}" />
                                        <dataLink field="AtaqueEsp_edc" defaultValue="7" />
                                        <edit left="000" top="125" height="20" width="30" field="DefesaEsp_Pri" horzTextAlign="center" type="number" />
                                        <label left="035" top="125" height="20" width="100" text="Defesa Especial" autoSize="true" fontStyle="bold" />
                                        <edit left="140" top="125" height="20" width="30" field="DefesaEsp_Form1" horzTextAlign="center" type="number" enabled="false" />
                                        <edit left="185" top="125" height="20" width="30" field="DefesaEsp_Base1" horzTextAlign="center" type="number" />
                                        <edit left="230" top="125" height="20" width="30" field="DefesaEsp_Nivel" horzTextAlign="center" type="number" />
                                        <edit left="275" top="125" height="20" width="30" field="DefesaEsp_Bon1" horzTextAlign="center" type="number" />
                                        <edit left="320" top="125" height="20" width="30" field="DefesaEsp_Vit" horzTextAlign="center" type="number" />
                                        <edit left="365" top="125" height="20" width="30" field="DefesaEsp_Bon2" horzTextAlign="center" type="number" />
                                        <comboBox left="400" top="125" height="20" width="45" field="DefesaEsp_edc" horzTextAlign="center" items="{'-6', '-5', '-4', '-3', '-2', '-1', '0', '1', '2', '3', '4', '5', '6'}" values="{'1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13'}" />
                                        <dataLink field="DefesaEsp_edc" defaultValue="7" />
                                        <edit left="000" top="150" height="20" width="30" field="Velocidade_Pri" horzTextAlign="center" type="number" />
                                        <label left="035" top="150" height="20" width="100" text="Velocidade" autoSize="true" fontStyle="bold" />
                                        <edit left="140" top="150" height="20" width="30" field="Velocidade_Form1" horzTextAlign="center" type="number" enabled="false" />
                                        <edit left="185" top="150" height="20" width="30" field="Velocidade_Base1" horzTextAlign="center" type="number" />
                                        <edit left="230" top="150" height="20" width="30" field="Velocidade_Nivel" horzTextAlign="center" type="number" />
                                        <edit left="275" top="150" height="20" width="30" field="Velocidade_Bon1" horzTextAlign="center" type="number" />
                                        <edit left="320" top="150" height="20" width="30" field="Velocidade_Vit" horzTextAlign="center" type="number" />
                                        <edit left="365" top="150" height="20" width="30" field="Velocidade_Bon2" horzTextAlign="center" type="number" />
                                        <comboBox left="400" top="150" height="20" width="45" field="Velocidade_edc" horzTextAlign="center" items="{'-6', '-5', '-4', '-3', '-2', '-1', '0', '1', '2', '3', '4', '5', '6'}" values="{'1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13'}" />
                                        <dataLink field="Velocidade_edc" defaultValue="7" />
                                    </layout>
									
        <dataLink fields="{	'pokeLevel', 'Vida_Base1','Vida_Bon1', 'Vida_Bon2','Vida_Nivel','Vida_Vit','pokHP_Les','basSEX',
							'Ataque_Base1', 'Ataque_Bon1', 'Ataque_Bon2','Ataque_Nivel','Ataque_Vit','Ataque_edc','campoPokemon',
							'Defesa_Base1', 'Defesa_Bon1', 'Defesa_Bon2','Defesa_Nivel','Defesa_Vit','Defesa_edc',
							'AtaqueEsp_Base1', 'AtaqueEsp_Bon1', 'AtaqueEsp_Bon2','AtaqueEsp_Nivel','AtaqueEsp_Vit','AtaqueEsp_edc',
							'DefesaEsp_Base1', 'DefesaEsp_Bon1', 'DefesaEsp_Bon2','DefesaEsp_Nivel','DefesaEsp_Vit','DefesaEsp_edc',
							'Velocidade_Nivel','Velocidade_Base1','Velocidade_Bon1','Velocidade_Bon2','Velocidade_Vit','Velocidade_edc',
							'pok_bonEVAF', 'pok_bonEVAE', 'pok_bonEVAV', 'pok_bonINI','Treino_Bonus', 'MegaEvo', 'active','baseHPAtual', 'baseHPMAX',
							'SlotActive1', 'SlotActive2', 'SlotActive3', 'SlotActive4', 'SlotActive5', 'SlotActive6', 'SlotActive7'}">
            <event name="onChange">
				if self.boxDetalhesDoItem.node == nil then return end;
				local EdCtable = {0.4,0.5,0.6,0.7,0.8,0.9,1,1.2,1.4,1.6,1.8,2,2.2};
				AuxMega = 0;
				if (not self.boxDetalhesDoItem.node.MegaEvo) then AuxMega = 0;	end
				if (self.boxDetalhesDoItem.node.MegaEvo == true) then AuxMega = 1;	end
				local HPBase1 = self.boxDetalhesDoItem.node.Vida_Base1 or 0;
				local HPBon1 = self.boxDetalhesDoItem.node.Vida_Bon1 or 0;
				local HPNivel = self.boxDetalhesDoItem.node.Vida_Nivel or 0;
				local HPVitam = self.boxDetalhesDoItem.node.Vida_Vit or 0;
				if (HPBase1 > 0) then 
					self.boxDetalhesDoItem.node.Vida_Form1 = math.floor((HPBase1 + HPNivel + HPVitam + HPBon1));
					end
			
				local ATKBase1 = self.boxDetalhesDoItem.node.Ataque_Base1 or 0;
				local ATKBon1 = self.boxDetalhesDoItem.node.Ataque_Bon1 or 0;
				local ATKBon2 = self.boxDetalhesDoItem.node.Ataque_Bon2 or 0;
				local ATKNivel = self.boxDetalhesDoItem.node.Ataque_Nivel or 0;
				local ATKVitam = self.boxDetalhesDoItem.node.Ataque_Vit or 0;
				local ATKedc = tonumber(self.boxDetalhesDoItem.node.Ataque_edc) or 7;
					if 1 &gt; ATKedc then ATKedc = 7 end;
					if ATKedc &gt; 13 then ATKedc = 7 end;
				if (ATKBase1 > 0) then 
					self.boxDetalhesDoItem.node.Ataque_Form1 = math.floor((ATKBase1 + ATKNivel + ATKVitam + ATKBon1 + ATKBon2*AuxMega)*EdCtable[ATKedc]);
					end
				

				local DEFBase1 = self.boxDetalhesDoItem.node.Defesa_Base1 or 0;
				local DEFBon1 = self.boxDetalhesDoItem.node.Defesa_Bon1 or 0;
				local DEFBon2 = self.boxDetalhesDoItem.node.Defesa_Bon2 or 0;
				local DEFNivel = self.boxDetalhesDoItem.node.Defesa_Nivel or 0;
				local DEFVitam = self.boxDetalhesDoItem.node.Defesa_Vit or 0;
				local DEFedc = tonumber(self.boxDetalhesDoItem.node.Defesa_edc) or 7;
					if 1 &gt; DEFedc then DEFedc = 7 end;
					if DEFedc &gt; 13 then DEFedc = 7 end;
				if (DEFBase1 > 0) then 
					self.boxDetalhesDoItem.node.Defesa_Form1 = math.floor((DEFBase1 + DEFNivel + DEFVitam + DEFBon1 + DEFBon2*AuxMega)*EdCtable[DEFedc]);
					end


				local AESBase1 = self.boxDetalhesDoItem.node.AtaqueEsp_Base1 or 0;
				local AESBon1 = self.boxDetalhesDoItem.node.AtaqueEsp_Bon1 or 0;
				local AESBon2 = self.boxDetalhesDoItem.node.AtaqueEsp_Bon2 or 0;
				local AESNivel = self.boxDetalhesDoItem.node.AtaqueEsp_Nivel or 0;
				local AESVitam = self.boxDetalhesDoItem.node.AtaqueEsp_Vit or 0;
				local AESedc = tonumber(self.boxDetalhesDoItem.node.AtaqueEsp_edc) or 7;
					if 1 &gt; AESedc then AESedc = 7 end;
					if AESedc &gt; 13 then AESedc = 7 end;
				if (AESBase1 > 0) then 
					self.boxDetalhesDoItem.node.AtaqueEsp_Form1 = math.floor((AESBase1 + AESNivel + AESVitam + AESBon1 + AESBon2*AuxMega)*EdCtable[AESedc]);
					end

					
				local DESBase1 = self.boxDetalhesDoItem.node.DefesaEsp_Base1 or 0;
				local DESBon1 = self.boxDetalhesDoItem.node.DefesaEsp_Bon1 or 0;
				local DESBon2 = self.boxDetalhesDoItem.node.DefesaEsp_Bon2 or 0;
				local DESNivel = self.boxDetalhesDoItem.node.DefesaEsp_Nivel or 0;
				local DESVitam = self.boxDetalhesDoItem.node.DefesaEsp_Vit or 0;
				local DESedc = tonumber(self.boxDetalhesDoItem.node.DefesaEsp_edc) or 7;
					if 1 &gt; DESedc then DESedc = 7 end;
					if DESedc &gt; 13 then DESedc = 7 end;
				if (DESBase1 > 0) then 
					self.boxDetalhesDoItem.node.DefesaEsp_Form1 = math.floor((DESBase1 + DESNivel + DESVitam + DESBon1 + DESBon2*AuxMega)*EdCtable[DESedc]);
					end

		
				local VelBase1 = self.boxDetalhesDoItem.node.Velocidade_Base1 or 0;
				local VelBon1 = self.boxDetalhesDoItem.node.Velocidade_Bon1 or 0;
				local VelBon2 = self.boxDetalhesDoItem.node.Velocidade_Bon2 or 0;
				local VelNivel = self.boxDetalhesDoItem.node.Velocidade_Nivel or 0;
				local VelVitam = self.boxDetalhesDoItem.node.Velocidade_Vit or 0;
				local Veledc = tonumber(self.boxDetalhesDoItem.node.Velocidade_edc) or 7;
					if 1 &gt; Veledc then Veledc = 7 end;
					if Veledc &gt; 13 then Veledc = 7 end;
				if (VelBase1 > 0) then 
					self.boxDetalhesDoItem.node.Velocidade_Form1 = math.floor((VelBase1 + VelNivel + VelVitam + VelBon1 + VelBon2*AuxMega)*EdCtable[Veledc]);
					end

			
					local EFISbon = self.boxDetalhesDoItem.node.pok_bonEVAF or 0;
					local EESPbon = self.boxDetalhesDoItem.node.pok_bonEVAE or 0; 
					local EVELbon = self.boxDetalhesDoItem.node.Pok_bonEVAV or 0;	
					local INIbon = self.boxDetalhesDoItem.node.pok_bonINI or 0;	
					local DEF_fim = self.boxDetalhesDoItem.node.Defesa_Form1 or 0;
						if DEF_fim > 30 then DEF_fim = 30;	end
					local DEFE_fim = self.boxDetalhesDoItem.node.DefesaEsp_Form1 or 0;
						if DEFE_fim > 30 then DEFE_fim = 30;	end
					local VEL_fim = self.boxDetalhesDoItem.node.Velocidade_Form1 or 0;
				self.boxDetalhesDoItem.node.pok_INI = math.floor(VEL_fim) + INIbon;
						if VEL_fim > 30 then VEL_fim = 30;	end
					local VIDA_fim = self.boxDetalhesDoItem.node.Vida_Form1 or 0;
				self.boxDetalhesDoItem.node.campoEFIS = math.floor(DEF_fim/5) + EFISbon;
					if (self.boxDetalhesDoItem.node.campoEFIS >9) then self.boxDetalhesDoItem.node.campoEFIS = 0; 	end
				self.boxDetalhesDoItem.node.campoEESP = math.floor(DEFE_fim/5) + EESPbon;
					if (self.boxDetalhesDoItem.node.campoEESP >9) then self.boxDetalhesDoItem.node.campoEESP = 0; 	end
				self.boxDetalhesDoItem.node.campoEVEL = math.floor(VEL_fim/10) + EVELbon;
					if (self.boxDetalhesDoItem.node.campoEVEL >9) then self.boxDetalhesDoItem.node.campoEVEL = 0; 	end

					local PokeLV = self.boxDetalhesDoItem.node.pokeLevel or 1
				self.boxDetalhesDoItem.node.baseHPMAX = PokeLV + VIDA_fim*3;					

				HPBasal = HPBase1 + HPVitam;
				ATKBasal = ATKBase1 + ATKVitam;
				DEFBasal = DEFBase1 + DEFVitam;
				AESBasal = AESBase1 + AESVitam;
				DESBasal = DESBase1 + DESVitam;
				VELBasal = VelBase1 + VelVitam;
			RelBasal = {HPBasal, ATKBasal, DEFBasal, AESBasal, DESBasal,VELBasal} 
				
			
			local BonusElemental = math.floor(PokeLV/5) or 1
			if BonusElemental == 0 then BonusElemental = 1 end
			self.boxDetalhesDoItem.node.campoBonEle = BonusElemental;
			
			if (self.boxDetalhesDoItem.node.SlotActive1 == true) then 
				self.boxDetalhesDoItem.node.SlotActive2 = false;
				self.boxDetalhesDoItem.node.SlotActive3 = false;
				self.boxDetalhesDoItem.node.SlotActive4 = false;
				self.boxDetalhesDoItem.node.SlotActive5 = false;
				self.boxDetalhesDoItem.node.SlotActive6 = false;
				self.boxDetalhesDoItem.node.SlotActive7 = false;			
				sheet.ImagemSlot1 = (self.boxDetalhesDoItem.node.campoPokemon or "");
				sheet.NomeSlot1 = (self.boxDetalhesDoItem.node.campoApelido or self.boxDetalhesDoItem.node.campoNome or "");
				sheet.LevelSlot1 = (self.boxDetalhesDoItem.node.pokeLevel or "")
				sheet.GenderSlot1 = (self.boxDetalhesDoItem.node.basSEX or "");
				self.boxDetalhesDoItem.node.active = true;
				sheet.baseHPAtual1 = tonumber(self.boxDetalhesDoItem.node.baseHPAtual) or 0;
				sheet.baseHPMAX1 = tonumber(self.boxDetalhesDoItem.node.baseHPMAX) or 0;
				end
			if (self.boxDetalhesDoItem.node.SlotActive2 == true) then 
				self.boxDetalhesDoItem.node.SlotActive1 = false;
				self.boxDetalhesDoItem.node.SlotActive3 = false;
				self.boxDetalhesDoItem.node.SlotActive4 = false;
				self.boxDetalhesDoItem.node.SlotActive5 = false;
				self.boxDetalhesDoItem.node.SlotActive6 = false;
				self.boxDetalhesDoItem.node.SlotActive7 = false;	
				sheet.ImagemSlot2 = (self.boxDetalhesDoItem.node.campoPokemon or "");
				sheet.NomeSlot2 = (self.boxDetalhesDoItem.node.campoApelido or self.boxDetalhesDoItem.node.campoNome or "");
				sheet.LevelSlot2 = (self.boxDetalhesDoItem.node.pokeLevel or "")
				sheet.GenderSlot2 = (self.boxDetalhesDoItem.node.basSEX or "");
				self.boxDetalhesDoItem.node.active = true;
				sheet.baseHPAtual2 = tonumber(self.boxDetalhesDoItem.node.baseHPAtual) or 0;
				sheet.baseHPMAX2 = tonumber(self.boxDetalhesDoItem.node.baseHPMAX) or 0;
				end
			if (self.boxDetalhesDoItem.node.SlotActive3 == true) then 
				self.boxDetalhesDoItem.node.SlotActive1 = false;
				self.boxDetalhesDoItem.node.SlotActive2 = false;
				self.boxDetalhesDoItem.node.SlotActive4 = false;
				self.boxDetalhesDoItem.node.SlotActive5 = false;
				self.boxDetalhesDoItem.node.SlotActive6 = false;
				self.boxDetalhesDoItem.node.SlotActive7 = false;	
				sheet.ImagemSlot3 = (self.boxDetalhesDoItem.node.campoPokemon or "");
				sheet.NomeSlot3 = (self.boxDetalhesDoItem.node.campoApelido or self.boxDetalhesDoItem.node.campoNome or "");
				sheet.LevelSlot3 = (self.boxDetalhesDoItem.node.pokeLevel or "")
				sheet.GenderSlot3 = (self.boxDetalhesDoItem.node.basSEX or "");
				self.boxDetalhesDoItem.node.active = true;
				sheet.baseHPAtual3 = tonumber(self.boxDetalhesDoItem.node.baseHPAtual) or 0;
				sheet.baseHPMAX3 = tonumber(self.boxDetalhesDoItem.node.baseHPMAX) or 0;
				end
			if (self.boxDetalhesDoItem.node.SlotActive4 == true) then 
				self.boxDetalhesDoItem.node.SlotActive2 = false;
				self.boxDetalhesDoItem.node.SlotActive3 = false;
				self.boxDetalhesDoItem.node.SlotActive1 = false;
				self.boxDetalhesDoItem.node.SlotActive5 = false;
				self.boxDetalhesDoItem.node.SlotActive6 = false;
				self.boxDetalhesDoItem.node.SlotActive7 = false;	
				sheet.ImagemSlot4 = (self.boxDetalhesDoItem.node.campoPokemon or "");
				sheet.NomeSlot4 = (self.boxDetalhesDoItem.node.campoApelido or self.boxDetalhesDoItem.node.campoNome or "");
				sheet.LevelSlot4 = (self.boxDetalhesDoItem.node.pokeLevel or "")
				sheet.GenderSlot4 = (self.boxDetalhesDoItem.node.basSEX or "");
				self.boxDetalhesDoItem.node.active = true;
				sheet.baseHPAtual4 = tonumber(self.boxDetalhesDoItem.node.baseHPAtual) or 0;
				sheet.baseHPMAX4 = tonumber(self.boxDetalhesDoItem.node.baseHPMAX) or 0;
				end			
			if (self.boxDetalhesDoItem.node.SlotActive5 == true) then 
				self.boxDetalhesDoItem.node.SlotActive2 = false;
				self.boxDetalhesDoItem.node.SlotActive3 = false;
				self.boxDetalhesDoItem.node.SlotActive4 = false;
				self.boxDetalhesDoItem.node.SlotActive1 = false;
				self.boxDetalhesDoItem.node.SlotActive6 = false;
				self.boxDetalhesDoItem.node.SlotActive7 = false;	
				sheet.ImagemSlot5 = (self.boxDetalhesDoItem.node.campoPokemon or "");
				sheet.NomeSlot5 = (self.boxDetalhesDoItem.node.campoApelido or self.boxDetalhesDoItem.node.campoNome or "");
				sheet.LevelSlot5 = (self.boxDetalhesDoItem.node.pokeLevel or "")
				sheet.GenderSlot5 = (self.boxDetalhesDoItem.node.basSEX or "");
				self.boxDetalhesDoItem.node.active = true;
				sheet.baseHPAtual5 = tonumber(self.boxDetalhesDoItem.node.baseHPAtual) or 0;
				sheet.baseHPMAX5 = tonumber(self.boxDetalhesDoItem.node.baseHPMAX) or 0;
				end
			if (self.boxDetalhesDoItem.node.SlotActive6 == true) then 
				self.boxDetalhesDoItem.node.SlotActive2 = false;
				self.boxDetalhesDoItem.node.SlotActive3 = false;
				self.boxDetalhesDoItem.node.SlotActive4 = false;
				self.boxDetalhesDoItem.node.SlotActive5 = false;
				self.boxDetalhesDoItem.node.SlotActive1 = false;
				self.boxDetalhesDoItem.node.SlotActive7 = false;	
				sheet.ImagemSlot6 = (self.boxDetalhesDoItem.node.campoPokemon or "");
				sheet.NomeSlot6 = (self.boxDetalhesDoItem.node.campoApelido or self.boxDetalhesDoItem.node.campoNome or "");
				sheet.LevelSlot6 = (self.boxDetalhesDoItem.node.pokeLevel or "")
				sheet.GenderSlot6 = (self.boxDetalhesDoItem.node.basSEX or "");			
				self.boxDetalhesDoItem.node.active = true;
				sheet.baseHPAtual6 = tonumber(self.boxDetalhesDoItem.node.baseHPAtual) or 0;
				sheet.baseHPMAX6 = tonumber(self.boxDetalhesDoItem.node.baseHPMAX) or 0;
				end	
			if (self.boxDetalhesDoItem.node.SlotActive7 == true) then 
				self.boxDetalhesDoItem.node.SlotActive2 = false;
				self.boxDetalhesDoItem.node.SlotActive3 = false;
				self.boxDetalhesDoItem.node.SlotActive4 = false;
				self.boxDetalhesDoItem.node.SlotActive5 = false;
				self.boxDetalhesDoItem.node.SlotActive6 = false;
				self.boxDetalhesDoItem.node.SlotActive1 = false;	
				self.boxDetalhesDoItem.node.active = false;
				end	
			
			</event>
			</dataLink>
			
	<layout left="470" top="365" height="600" width="1000">
		<image left="000" top="000" width="40" height="40" src="/img/normal2.gif" />
		<image left="045" top="000" width="40" height="40" src="/img/fire2.gif" />
		<image left="090" top="000" width="40" height="40" src="/img/water2.gif" />
		<image left="135" top="000" width="40" height="40" src="/img/electric2.gif" />
		<image left="180" top="000" width="40" height="40" src="/img/grass2.gif" />
		<image left="225" top="000" width="40" height="40" src="/img/ice2.gif" />
		<image left="270" top="000" width="40" height="40" src="/img/fighting2.gif" />
		<image left="315" top="000" width="40" height="40" src="/img/poison2.gif" />
		<image left="360" top="000" width="40" height="40" src="/img/ground2.gif" />
        <edit left="000" top="045" height="20" width="40" field="weakTot1" horzTextAlign="center" enabled="false"/>
        <edit left="045" top="045" height="20" width="40" field="weakTot2" horzTextAlign="center" enabled="false"/>
        <edit left="090" top="045" height="20" width="40" field="weakTot3" horzTextAlign="center" enabled="false"/>
        <edit left="135" top="045" height="20" width="40" field="weakTot4" horzTextAlign="center" enabled="false"/>
        <edit left="180" top="045" height="20" width="40" field="weakTot5" horzTextAlign="center" enabled="false"/>
        <edit left="225" top="045" height="20" width="40" field="weakTot6" horzTextAlign="center" enabled="false"/>
        <edit left="270" top="045" height="20" width="40" field="weakTot7" horzTextAlign="center" enabled="false"/>
        <edit left="315" top="045" height="20" width="40" field="weakTot8" horzTextAlign="center" enabled="false"/>
        <edit left="360" top="045" height="20" width="40" field="weakTot9" horzTextAlign="center" enabled="false"/>
    </layout>	

	<layout left="065" top="435" height="600" width="1000">		
		<image left="405" top="000" width="40" height="40" src="/img/flying2.gif" />
		<image left="450" top="000" width="40" height="40" src="/img/psychic2.gif" />
		<image left="495" top="000" width="40" height="40" src="/img/bug2.gif" />
		<image left="540" top="000" width="40" height="40" src="/img/rock2.gif" />
		<image left="585" top="000" width="40" height="40" src="/img/ghost2.gif" />
		<image left="630" top="000" width="40" height="40" src="/img/dragon2.gif" />
		<image left="675" top="000" width="40" height="40" src="/img/dark2.gif" />
		<image left="720" top="000" width="40" height="40" src="/img/steel2.gif" />
		<image left="765" top="000" width="40" height="40" src="/img/fairy2.gif" />
        <edit left="405" top="045" height="20" width="40" field="weakTot10" horzTextAlign="center" enabled="false"/>
        <edit left="450" top="045" height="20" width="40" field="weakTot11" horzTextAlign="center" enabled="false"/>
        <edit left="495" top="045" height="20" width="40" field="weakTot12" horzTextAlign="center" enabled="false"/>
        <edit left="540" top="045" height="20" width="40" field="weakTot13" horzTextAlign="center" enabled="false"/>
        <edit left="585" top="045" height="20" width="40" field="weakTot14" horzTextAlign="center" enabled="false"/>
        <edit left="630" top="045" height="20" width="40" field="weakTot15" horzTextAlign="center" enabled="false"/>
        <edit left="675" top="045" height="20" width="40" field="weakTot16" horzTextAlign="center" enabled="false"/>
        <edit left="720" top="045" height="20" width="40" field="weakTot17" horzTextAlign="center" enabled="false" />
        <edit left="765" top="045" height="20" width="40" field="weakTot18" horzTextAlign="center" enabled="false"/>
    </layout>	


		</rectangle>
		</tab>
		
        <tab title="Golpes">
            <import file="GolpesP.lfm" />
        </tab>

        <tab title="Habilidades">
		<rectangle align="top" color="black" xradius="10" yradius="10" height="880" padding="{top=3, left=3, right=3, bottom=3}">

            <layout left="10" top="10" height="600" width="900">
            <textEditor left="07" top="07" width="846" height="475" field="campoHabilidades2" />
            </layout>
		</rectangle>
        </tab>

        <tab title="Capacidades/Contests">
		<rectangle align="top" color="black" xradius="10" yradius="10" height="880" padding="{top=3, left=3, right=3, bottom=3}">

            <layout left="10" top="10" height="600" width="900">
            <textEditor left="07" top="07" width="600" height="475" field="campoCapacidades2" />
            </layout>

		
		<layout left="660" top="10" height="320" width="420">
				<label left="000" top="000" height="20" width="80" text="Aptidão" autoSize="true"  fontStyle="bold"/>
                <label left="85" top="000" height="20" width="30" text="Rank" autoSize="true" />
                <label left="120" top="000" height="20" width="30" text="Total" autoSize="true" />		
                <label left="155" top="000" height="20" width="30" text="Atual" autoSize="true" />					
				
				<label left="000" top="025" height="20" width="80" text="Estilo" autoSize="true"  fontStyle="bold"/>
				<edit left="85" top="025" height="20" width="30" field="Estilo_Rank" horzTextAlign="center" type ="number"/>	
				<edit left="120" top="025" height="20" width="30" field="Estilo_Total" horzTextAlign="center" type ="number"/>
				<edit left="155" top="025" height="20" width="30" field="Estilo_Atual" horzTextAlign="center" type ="number"/>				
		
				<label left="000" top="050" height="20" width="80" text="Beleza" autoSize="true"  fontStyle="bold"/>
				<edit left="85" top="050" height="20" width="30" field="Beleza_Rank" horzTextAlign="center" type ="number"/>	
				<edit left="120" top="050" height="20" width="30" field="Beleza_Total" horzTextAlign="center" type ="number"/>
				<edit left="155" top="050" height="20" width="30" field="Beleza_Atual" horzTextAlign="center" type ="number"/>	

				<label left="000" top="075" height="20" width="80" text="Ternura" autoSize="true"  fontStyle="bold"/>
				<edit left="85" top="075" height="20" width="30" field="Ternura_Rank" horzTextAlign="center" type ="number"/>	
				<edit left="120" top="075" height="20" width="30" field="Ternura_Total" horzTextAlign="center" type ="number"/>
				<edit left="155" top="075" height="20" width="30" field="Ternura_Atual" horzTextAlign="center" type ="number"/>	

				<label left="000" top="100" height="20" width="80" text="Perspicácia" autoSize="true"  fontStyle="bold"/>
				<edit left="85" top="100" height="20" width="30" field="Perspicácia_Rank" horzTextAlign="center" type ="number"/>	
				<edit left="120" top="100" height="20" width="30" field="Perspicácia_Total" horzTextAlign="center" type ="number"/>
				<edit left="155" top="100" height="20" width="30" field="Perspicácia_Atual" horzTextAlign="center" type ="number"/>	

				<label left="000" top="125" height="20" width="80" text="Vigor" autoSize="true"  fontStyle="bold"/>
				<edit left="85" top="125" height="20" width="30" field="Vigor_Rank" horzTextAlign="center" type ="number"/>	
				<edit left="120" top="125" height="20" width="30" field="Vigor_Total" horzTextAlign="center" type ="number"/>
				<edit left="155" top="125" height="20" width="30" field="Vigor_Atual" horzTextAlign="center" type ="number"/>	
		</layout>	

            <layout left="640" top="175" height="350" width="250">
			<label left="000" top="0" height="20" width="200" text="Conquistas em Contests" autoSize="true" horzTextAlign="center"/>
            <textEditor left="0" top="25" height="290" width="225" field="CampoContestsP2" />
            </layout>
		</rectangle>
		
	</tab>

	
	</tabControl>		
        </dataScopeBox>
    </scrollBox>
	
		
	</form>